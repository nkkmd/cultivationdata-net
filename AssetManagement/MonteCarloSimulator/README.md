# ポートフォリオ・モンテカルロ・シミュレーター

このPythonスクリプトは、投資ポートフォリオの将来のパフォーマンスを、過去のデータを使用してモンテカルロ・シミュレーションします。複数の可能な将来シナリオを生成することで、ポートフォリオのリスクとリターンの特性を分析することができます。

## 特徴

- yfinanceライブラリを使用して過去の価格データを取得
- ユーザー入力によるポートフォリオ構成とシミュレーションパラメータの設定
- シミュレーション期間を月単位で指定可能
- 定期的なポートフォリオリバランスをシミュレーション可能
- 以下の主要なパフォーマンス指標を計算：
  - 平均最終ポートフォリオ価値
  - 中央値、最小および最大最終ポートフォリオ価値
  - 90%信頼区間
  - 95%バリューアットリスク（VaR）
  - 95%条件付バリューアットリスク（CVaR）
- matplotlibを使用してシミュレーション結果を可視化

## 要件

- Python 3.7以上
- 必要なPythonパッケージ：
  - yfinance
  - pandas
  - numpy
  - matplotlib
  - scipy

必要なパッケージは以下のコマンドでインストールできます：

```
pip install yfinance pandas numpy matplotlib scipy
```

## 使用方法

1. コマンドプロンプトからプログラムを実行します。
   ```bash
   python monte_carlo_simulator.py
   ```

2. プロンプトに従って、以下の情報を入力します：
   - ポートフォリオの構成（ティッカーシンボルと配分比率）
   - シミュレーションの開始日と終了日
   - 初期投資額（ドル）
   - シミュレーション期間（月数）
   - シミュレーション回数（デフォルト: 1000）
   - リバランス頻度（月数）

3. プログラムが自動的にデータを取得し、シミュレーションを実行します。

4. 結果が表示され、グラフが生成されます。

## 出力例

```
結果:
平均値: $20424.48
中央値: $18194.86
最小値: $2577.59
最大値: $83262.56
90%信頼区間: $7,775.40 - $41,662.26
95% VaR: $2224.60
95% CVaR: $3748.91
```

スクリプトは、シミュレーションされた複数のポートフォリオパスを示すグラフも生成します。

## カスタマイズ

このスクリプトは、実行時にユーザー入力を受け付けるため、以下の項目を簡単にカスタマイズできます：
- ポートフォリオの資産構成
- シミュレーション期間や回数
- リバランス頻度
- 過去データの日付範囲
- 初期投資額

## 注意点

- ポートフォリオの配分比率の合計が1（100%）になるまでティッカーシンボルと比率の入力を続けます。
- 合計が1を超えた場合、入力は自動的に終了し、比率は正規化されます。
- シミュレーション回数のデフォルト値は1000です。何も入力しない場合、このデフォルト値が使用されます。

## 免責事項

このスクリプトは情報提供の目的でのみ作成されています。金融アドバイスを構成するものではありません。シミュレーション結果は将来の実際のパフォーマンスを保証するものではありません。