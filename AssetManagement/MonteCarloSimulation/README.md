# ポートフォリオモンテカルロシミュレーター

このPythonスクリプトは、投資ポートフォリオの将来のパフォーマンスを、過去のデータを使用してモンテカルロシミュレーションします。複数の可能な将来シナリオを生成することで、ポートフォリオのリスクとリターンの特性を分析することができます。

## 特徴

- yfinanceライブラリを使用して過去の価格データを取得
- 指定されたポートフォリオ構成に基づいて将来のパフォーマンスをシミュレーション
- シミュレーション期間を月単位で指定可能
- 定期的なポートフォリオリバランスをシミュレーション可能
- 以下の主要なパフォーマンス指標を計算：
  - 平均最終ポートフォリオ価値
  - 中央値、最小および最大最終ポートフォリオ価値
  - 90%信頼区間
  - 95%バリューアットリスク（VaR）
- matplotlibを使用してシミュレーション結果を可視化

## 要件

- Python 3.7以上
- 必要なPythonパッケージ：
  - yfinance
  - pandas
  - numpy
  - matplotlib
  - scipy

必要なパッケージは以下のコマンドでインストールできます：

```
pip install yfinance pandas numpy matplotlib scipy
```

## 使用方法

1. `monte_carlo_simulator.py`ファイルを開き、必要に応じてシミュレーションパラメータを調整します：
   - `portfolio`: 資産とその配分比率の辞書
   - `initial_investment`: ポートフォリオの初期投資額
   - `months`: シミュレーション期間（月数）
   - `num_simulations`: シミュレーション回数
   - `rebalance_months`: リバランス頻度（月数）
   - `start_date`と`end_date`: 過去データの日付範囲

2. コマンドプロンプトからプログラムを実行します。
   ```bash
   python monte_carlo_simulator.py
   ```

## 出力例

```
期間: 2015-01-01 から 2023-12-31
初期投資額: $10,000
シミュレーション期間: 120ヶ月（10年）
シミュレーション回数: 1000
リバランス頻度: 12ヶ月（1年）ごと

平均値: $18,543.67
中央値: $15,309.24
最小値: $1,537.72
最大値: $134,800.76
90%信頼区間: $5,707.72 - $41,650.44
95% VaR: $4,292.28
95% CVaR: $5,459.70
```

スクリプトは、シミュレーションされた複数のポートフォリオパスを示すグラフも生成します。

## カスタマイズ

スクリプトは簡単に以下のようにカスタマイズできます：
- ポートフォリオの資産構成を変更
- シミュレーション期間や回数を調整
- リバランス頻度を変更
- 過去データの日付範囲を変更

## 免責事項

このスクリプトは情報提供の目的でのみ作成されています。金融アドバイスを構成するものではありません。シミュレーション結果は将来の実際のパフォーマンスを保証するものではありません。

## ライセンス

このプロジェクトはオープンソースで、[MITライセンス](LICENSE)の下で利用可能です。