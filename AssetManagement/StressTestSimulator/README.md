## StressTestSimulator: 資産運用のストレステストシミュレーション

**概要**

このプログラムは、資産運用のストレステストシミュレーションを行います。通常の市場環境とストレス環境下でのポートフォリオのパフォーマンスを比較し、可視化します（取引目的や助言ではなく、情報提供のみを目的として提供されます）。プログラムは以下を行います。

* ユーザーから投資パラメータを入力
* 通常シナリオとストレスシナリオのシミュレーション
* 結果の計算と表示
* ポートフォリオ価値の推移をグラフ化

**インストール**

プログラムを実行するには以下のライブラリが必要です。

* numpy
* matplotlib

これらのライブラリは、pipを使用してインストールできます。

```bash
pip install numpy matplotlib
```

**使い方**

1. プログラムを好きな場所に保存します (e.g. `stress_test_simulator.py`)
2. コマンドプロンプトからプログラムを実行します。

```bash
python stress_test_simulator.py
```

3. プロンプトに従って、以下の情報を入力します。
   - 初期投資額（円）
   - 投資期間（年）
   - リスク許容度（1: 保守的, 2: 中庸, 3: 積極的）
   - 資産配分（株式、債券、現金の割合）
   - 想定インフレ率（%）
   - ストレスシナリオ（1: 市場急落, 2: 長期不況, 3: 高インフレ）
   - リバランス頻度（月）

**シミュレーションへの影響**

1. リスク許容度の影響:
   - 保守的: 資産クラスのリターンを20%減少させます。リスクを抑えた運用を想定。
   - 中庸: 資産クラスのリターンを変更しません。通常の運用を想定。
   - 積極的: 資産クラスのリターンを20%増加させます。リスクを取った運用を想定。

2. ストレスシナリオの影響:
   - 市場急落: 初期投資額を30%減少させ、リターンを50%に削減、ボラティリティを50%増加させます。短期的な市場暴落を想定。
   - 長期不況: リターンを70%削減し、ボラティリティを20%増加させます。長期的な景気後退を想定。
   - 高インフレ: リターンからインフレ率を差し引きます。高インフレ環境を想定。

3. リバランスの影響:
   指定された頻度（月数）ごとに、ポートフォリオを初期の資産配分に戻します。これにより、市場の変動に応じた定期的な調整の効果をシミュレーションに反映します。

4. 資産クラスのリターンとボラティリティの設定:
   プログラム内で`asset_returns`と`asset_volatilities`を直接編集することで、各資産クラス（株式、債券、現金）の期待リターンとボラティリティを調整できます。これにより、異なる市場環境や予測に基づいてシミュレーションをカスタマイズできます。

   ```python
   asset_returns = {
       'stocks': 0.10,  # 株式の期待リターン（例: 10%）
       'bonds': 0.05,   # 債券の期待リターン（例: 5%）
       'cash': 0.02     # 現金の期待リターン（例: 2%）
   }
   
   asset_volatilities = {
       'stocks': 0.20,  # 株式のボラティリティ（例: 20%）
       'bonds': 0.05,   # 債券のボラティリティ（例: 5%）
       'cash': 0.01     # 現金のボラティリティ（例: 1%）
   }
   ```

   これらの値を調整することで、異なる市場予測や経済シナリオに基づいたシミュレーションを実行できます。

**出力**

プログラムは以下の出力を生成します。

* 通常シナリオの最終ポートフォリオ価値
* ストレスシナリオの最終ポートフォリオ価値
* 通常シナリオとストレスシナリオのポートフォリオ価値推移グラフ

**注意事項**

このシミュレーションは、過去のデータや仮定に基づいており、将来の運用成績を保証するものではありません。実際の投資判断は、個人の財務状況や目標に基づいて行ってください。また、`asset_returns`と`asset_volatilities`の値を変更する際は、現実的な市場予測に基づいて行うようにしてください。