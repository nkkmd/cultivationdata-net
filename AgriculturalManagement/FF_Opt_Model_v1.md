# 家族経営農業における「所得維持・労働最小化」モデルの数理的定式化

家族経営の農業において、経営主の意思決定は「利益の最大化」だけでなく、「生活に必要な所得を確保した上での余暇の最大化（労働の最小化）」に置かれることが多々あります。本資料では、この意思決定プロセスを線形計画法（Linear Programming）を用いて厳密に定義します。

## 1. 数理モデルの定義

### 決定変数 (Decision Variables)
*   $x_j \ge 0 \quad (j = 1, 2, \dots, n)$
    *   作目 $j$ の作付面積（単位：10a または ha）。

### 目的関数 (Objective Function)
年間の総労働投入量を最小化することを目的とします。

$$\text{Minimize} \quad Z = \sum_{j=1}^{n} L_j x_j$$ 

*   $L_j$：作目 $j$ の単位面積あたりの年間延べ労働時間。

### 制約条件 (Constraints)

1.  **所得維持制約 (Minimum Income Constraint)**  
家族の生活費、負債償還、次期生産準備金、および**経営を維持するために不可欠な固定費（減価償却費、租税公課、地代等）** を合算した最低必要額 $I_{min}$ を確保します。
    
$$\sum_{j=1}^{n} (R_j - V_j) x_j \ge I_{min}$$

*   $R_j$：作目 $j$ の単位面積あたり粗収益。
*   $V_j$：作目 $j$ の単位面積あたり変動費。
*   $(R_j - V_j)$ は、単位面積あたりの**粗利益（Gross Margin）**。
*   ※本モデルでは、全作目の粗利益の合計が、固定費を含む必要キャッシュフロー $I_{min}$ を上回ることを条件とします。

3.  **土地資源制約 (Land Constraint)**  
経営が利用可能な全耕地面積 $A$ を上限とします。
    
$$\sum_{j=1}^{n} x_j \le A$$ 

5.  **旬別・月別労働ピーク制約 (Seasonal Labor Constraints)**  
特定の農繁期において、家族の労働供給能力（マンパワー）を超えないようにします。
    
$$\sum_{j=1}^{n} l_{jt} x_j \le H_t \quad (\forall t \in T)$$ 

*   $l_{jt}$：作目 $j$ の時期 $t$ における単位面積あたり労働時間。
*   $H_t$：時期 $t$ における家族の最大労働供給可能時間。

7.  **非負制約 (Non-negativity Constraint)**

$$x_j \ge 0 \quad (\forall j)$$ 

---

## 2. 概念的な説明

本モデルは、**「生存維持と経営継続」を第一条件とした効率化モデル**です。

*   **所得の壁と固定費の補填**:  
    農業経営には、作付けの有無にかかわらず発生する固定費（機械の減価償却費や施設の維持管理費など）が存在します。本モデルでは、まずこれらの固定費をすべて支払い、かつ家族が生活できるだけの額（ $I_{min}$）を「最低限超えるべきハードル」として設定します。このハードルを超えた後は、追加の収益を追うよりも「労働の軽減（余暇の創出）」を優先します。
*   **労働の質**:  
    総労働時間を減らすだけでなく、月別の制約（ $H_t$ ）を設けることで、特定時期への過度な負担（過労）を物理的に回避する計画を算出します。
*   **作目選択の力学**:   
    土地に余裕がある場合、モデルは自動的に「単位面積あたりの所得は低いが、極めて省力的な作目」を選択する傾向があります。逆に土地が限定的な場合、目標所得（および固定費の補填）を達成するために、労働集約的であっても「高収益な作目」を選ばざるを得なくなります。

---

## 3. Pythonによるシミュレーション

```python
import numpy as np
from scipy.optimize import linprog

# =========================================================
# 1. パラメータの設定
# =========================================================

# 作目リスト
crops = ["作物A", "作物B", "作物C"]

# 単位面積(10a)あたりの粗利益 (単位: 万円)
gross_margins = np.array([5.0, 8.0, 45.0])

# 単位面積(10a)あたりの年間総労働時間 (単位: 時間)
annual_labor = np.array([20.0, 25.0, 150.0])

# 月別労働投入量 (10aあたり時間: 4月〜9月の例)
# 行: 月(4,5,6,7,8,9月), 列: 作目(作物A, 作物B, 作物C)
monthly_labor_coeffs = np.array([
    [ 0, 8, 20], # 4月
    [ 10, 8, 20], # 5月
    [ 1, 0, 30], # 6月
    [ 2, 0, 30], # 7月
    [ 2, 0, 30], # 8月
    [ 10, 9, 20]  # 9月
])

# 経営資源・目標の制約
I_min = 300          # 最低必要所得 = 生活費 + 固定費(減価償却・税金等) + 負債償還 (万円)
land_limit = 50      # 利用可能面積 (10a単位 = 5ha)
H_t = 300            # 月あたりの家族労働供給限界 (時間)

# =========================================================
# 2. 線形計画法の定式化
# =========================================================

# 目的関数係数 (最小化したい総労働時間)
c = annual_labor

# 不等式制約行列 A_ub * x <= b_ub
A_ub = []
b_ub = []

# (1) 所得制約: Σ (GM * x) >= I_min  =>  -Σ (GM * x) <= -I_min
A_ub.append(-gross_margins)
b_ub.append(-I_min)

# (2) 土地制約: Σ x <= land_limit
A_ub.append(np.ones(len(crops)))
b_ub.append(land_limit)

# (3) 月別労働制約: Σ (l_t * x) <= H_t
for t_row in monthly_labor_coeffs:
    A_ub.append(t_row)
    b_ub.append(H_t)

# 変数の範囲 (x >= 0)
x_bounds = [(0, None) for _ in range(len(crops))]

# =========================================================
# 3. 最適化計算の実行
# =========================================================

res = linprog(c, A_ub=np.array(A_ub), b_ub=np.array(b_ub), bounds=x_bounds, method='highs')

# =========================================================
# 4. 結果の表示
# =========================================================

if res.success:
    print("=== 家族経営労働最小化モデル 最適解 ===")
    print(f"ステータス: {res.message}")
    print("-" * 45)
    for i, crop in enumerate(crops):
        print(f"{crop: <4}: {res.x[i]:>6.2f} (10a)")
    
    print("-" * 45)
    print(f"最小化された年間総労働時間: {res.fun:>8.1f} 時間")
    actual_income = np.dot(gross_margins, res.x)
    print(f"達成所得: {actual_income:>21.1f} 万円 (目標: {I_min}万円)")
    
    # ボトルネック（制約が限界に達している月）の確認
    print("\n[月別労働供給の余力 (スラック変数)]")
    for t, slack in enumerate(res.slack[2:]): # 最初の2要素は所得と土地の制約
        status = "<-- ボトルネック" if slack < 1e-5 else ""
        print(f"{t+4}月: {slack:>6.1f} 時間の余力 {status}")
else:
    print("最適解が見つかりませんでした。条件（所得目標や労働限界）を見直してください。")
```

---

## 4. モデルの解釈と応用

*   **シャドープライス（潜在価格）**:  
    所得制約のシャドープライスを確認することで、「目標所得（または固定費）を1万円下げた場合に、どれだけ労働時間を削減できるか」という感度分析が可能です。
*   **投資判断**:  
    高性能な機械を導入して $l_{jt}$（単位労働時間）を減らす一方、機械代（固定費）の増加により $I_{min}$ が上昇する場合、その投資が最終的に「労働時間の短縮」につながるかどうかをシミュレーションできます。
*   **リスク管理**:  
    粗利益 $R_j - V_j$ に変動がある場合、期待値だけでなく分散を考慮した二次計画法（QP）へ拡張することで、より安定的な経営計画の策定が可能になります。
